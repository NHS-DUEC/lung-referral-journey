{% set page = {
  title: 'Have you suddenly become confused, or much more confused than normal?',
  rationale: "For example you're not making sense, aren't sure where you are, or you're behaving strangely.",
  layout: { file: layouts.base },
  answers: [
    { id: 'SelectedAnswer', value: 'Yes', label: 'Yes', testId: 'answer-0', nextNodeLabel: 'Outcome', disabled: true },
    { id: 'SelectedAnswer_1', value: "I'm not sure", label: "I'm not sure", testId: 'answer-1', nextNodeLabel: 'Question', disabled: true },
    { id: 'SelectedAnswer_2', value: 'No', label: 'No', testId: 'answer-2', nextNodeLabel: 'Question' }
  ],
  button: { text: 'Next', name: 'Question', value: 'Question', testId: 'next-button' }
} %}

{% extends "111/layouts/base.html" %}

{% block content_primary %}
<form action="q11" method="post" novalidate>
  <div class="nhsuk-form-group nhsuk-u-margin-bottom-5 nhsuk-u-reading-width">
    <fieldset class="nhsuk-fieldset" aria-describedby="selected-answer-rationale">
      <legend class="nhsuk-fieldset__legend nhsuk-fieldset__legend--l nhsuk-u-margin-bottom-5">
        <h1 class="nhsuk-fieldset__heading">{{ page.title }}</h1>
      </legend>

      <div class="app-callout app-callout--info" id="selected-answer-rationale" data-test-id="selected-answer-rationale">
        <p>{{ page.rationale }}</p>
      </div>

      <div class="nhsuk-radios" data-test-id="answers">
        {% for answer in page.answers %}
        <div class="nhsuk-radios__item">
          <input
            name="SelectedAnswer"
            type="radio"
            class="nhsuk-radios__input"
            id="{{ answer.id }}"
            value="{{ answer.value }}"
            data-next-node-label="{{ answer.nextNodeLabel }}"
            {% if answer.disabled %}disabled{% endif %}
          >
          <label
            for="{{ answer.id }}"
            data-test-id="{{ answer.testId }}"
            class="nhsuk-label nhsuk-radios__label"
          >
            {{ answer.label }}
          </label>
        </div>
        {% endfor %}
      </div>
    </fieldset>
  </div>

  <button class="nhsuk-button nhsuk-u-margin-bottom-6" type="submit" name="{{ page.button.name }}" value="{{ page.button.value }}"
          data-inline-spinner
          data-inline-spinner-condition="[data-next-node-label='Outcome']:checked"
          data-module="nhsuk-button"
          data-prevent-double-click="true"
          data-test-id="{{ page.button.testId }}">
    {{ page.button.text }}
  </button>
</form>

<section>
    <hr class="app-section-break">
    <details data-test-id="feedback" class="nhsuk-details nhsuk-u-reading-width"><summary class="nhsuk-details__summary" data-event-trigger="click" data-event-value="Feedback reveal"><span class="nhsuk-details__summary-text">Does this page make sense?</span></summary>
</section>
{% endblock %}
