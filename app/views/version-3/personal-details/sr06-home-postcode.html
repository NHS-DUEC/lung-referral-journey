{% set page = {
  title: 'Home postcode'
} %}

{% extends page.layout.file | d(layouts.base) %}



{% block content_primary %}
    
    <form action="sr06-home-postcode" method="post" class="form">

        <!-- Error summary -->
        {% if data.error %}
        <div class="nhsuk-error-summary" aria-labelledby="error-summary-title" role="alert" tabindex="-1">
          <h2 class="nhsuk-error-summary__title" id="error-summary-title">
            There is a problem
          </h2>
          <div class="nhsuk-error-summary__body">
            <ul class="nhsuk-list nhsuk-error-summary__list">
              {% if data.error == 'select' %}
              <li><a href="#is-home-postcode-1">Select yes if this is your home postcode</a></li>
              {% elif data.error == 'postcode-missing' %}
              <li><a href="#home-postcode">Enter your home postcode</a></li>
              {% elif data.error == 'postcode-invalid' %}
              <li><a href="#home-postcode">Enter a valid UK postcode</a></li>
              {% endif %}
            </ul>
          </div>
        </div>
        {% endif %}

        <div class="nhsuk-form-group {% if data.error == 'select' %}nhsuk-form-group--error{% endif %}">
            <fieldset class="nhsuk-fieldset" aria-describedby="contact-hint">
                <legend class="nhsuk-fieldset__legend nhsuk-fieldset__legend--l">
                    <h1 class="nhsuk-fieldset__heading">
                        Is LS9 8QS your home postcode?
                    </h1>
                </legend>

                {% if data.error == 'select' %}
                <span class="nhsuk-error-message" id="is-home-postcode-error">
                  <span class="nhsuk-u-visually-hidden">Error:</span> Select yes if this is your home postcode
                </span>
                {% endif %}
                                        
                <div class="nhsuk-radios" data-module="nhsuk-radios">
                    <div class="nhsuk-radios__item">
                        <input class="nhsuk-radios__input" id="is-home-postcode-1" name="is-home-postcode" type="radio" value="yes" {{ "checked" if data['is-home-postcode'] == "yes" }}>
                        <label class="nhsuk-label nhsuk-radios__label" for="is-home-postcode-1">
                            Yes
                        </label>
                    </div>
                    
                    <div class="nhsuk-radios__item">
                        <input class="nhsuk-radios__input" id="is-home-postcode-2" name="is-home-postcode" type="radio" value="no" aria-controls="conditional-postcode" aria-expanded="false" {{ "checked" if data['is-home-postcode'] == "no" }} disabled>
                        <label class="nhsuk-label nhsuk-radios__label" for="is-home-postcode-2">
                            No
                        </label>
                    </div>
                    <div class="nhsuk-radios__conditional nhsuk-radios__conditional--hidden" id="conditional-postcode">
                        <div class="nhsuk-form-group {% if data.error == 'postcode-missing' or data.error == 'postcode-invalid' %}nhsuk-form-group--error{% endif %}">
                            <label class="nhsuk-label" for="home-postcode">
                                Your home postcode
                            </label>
                            {% if data.error == 'postcode-missing' %}
                            <span class="nhsuk-error-message" id="home-postcode-error">
                              <span class="nhsuk-u-visually-hidden">Error:</span> Enter your home postcode
                            </span>
                            {% elif data.error == 'postcode-invalid' %}
                            <span class="nhsuk-error-message" id="home-postcode-error">
                              <span class="nhsuk-u-visually-hidden">Error:</span> Enter a valid UK postcode
                            </span>
                            {% endif %}
                            <input class="nhsuk-input nhsuk-u-width-two-thirds {% if data.error == 'postcode-missing' or data.error == 'postcode-invalid' %}nhsuk-input--error{% endif %}" id="home-postcode" name="home-postcode" type="text" value="{{ data['home-postcode'] }}">
                        </div>
                    </div>
                </div>
            </fieldset>
        </div>

        <br>

        {{ button({
          text: "Next"
        }) }}
            
    </form>
  
    

      <hr class="app-section-break">

      <!-- Does this page make sense section -->
      <section>
        <details data-test-id="feedback" class="nhsuk-details nhsuk-u-reading-width"><summary class="nhsuk-details__summary" data-event-trigger="click" data-event-value="Feedback reveal"><span class="nhsuk-details__summary-text">Does this page make sense?</span></summary>
          <div class="nhsuk-details__text">
              
              <form data-test-id="feedback-content" action="https://staging.111.nhs.uk/Feedback/SubmitFeedback/" method="post" target="_blank" data-feedback-form="" autocomplete="off">
                  <div class="nhsuk-form-group" data-feedback-form-section="">
                        <fieldset class="nhsuk-fieldset">
                            <legend class="nhsuk-fieldset__legend nhsuk-fieldset__legend--m nhsuk-u-visually-hidden">Does the page make sense?</legend>
                            <div class="nhsuk-radios">
                                <div class="nhsuk-radios__item">
                                    <input class="nhsuk-radios__input" data-test-id="feedback-choice-yes" id="feedback-choice-yes" name="FeedbackChoice" type="radio" value="Yes">
                                    <label class="nhsuk-label nhsuk-radios__label" for="feedback-choice-yes">Yes</label>
                                </div>

                                <div class="nhsuk-radios__item">
                                    <input class="nhsuk-radios__input" data-test-id="feedback-choice-no" id="feedback-choice-no" name="FeedbackChoice" type="radio" value="No">
                                    <label class="nhsuk-label nhsuk-radios__label" for="feedback-choice-no">No</label>
                                </div>
                            </div>
                        </fieldset>

                        <div class="app-callout app-callout--info nhsuk-u-margin-top-3 nhsuk-u-margin-bottom-0" data-test-id="u13-consent">
                            <p>If you're under 13, you should have permission from your parent or guardian before leaving feedback.</p>
                        </div>
                    <button class="nhsuk-button nhsuk-button--secondary nhsuk-u-margin-top-4" data-test-id="feedback-tell-us-button">Tell us</button></div>
                    
                    <div data-feedback-form-section="" hidden="">
      
                        <fieldset class="nhsuk-fieldset">
                              <legend class="nhsuk-fieldset__legend nhsuk-fieldset__legend--m nhsuk-u-margin-bottom-0" data-test-id="feedback-explanation-1">Tell us how to make this page easier to understand</legend>                                                    
                              <br>
                                    <div class="nhsuk-character-count nhsuk-u-margin-bottom-0" data-module="nhsuk-character-count" data-maxlength="1200" data-threshold="75">
                                      <div class="nhsuk-form-group">

                                          <div class="app-callout app-callout--info" id="feedback-contact-warning">
                                              <p data-test-id="feedback-explanation-no-pid">Do <strong>not</strong> leave any personal or contact information. No one will reply to requests for medical help or contact you.</p>
                                          </div>

                                          <label for="feedback-text" class="nhsuk-label">Your feedback</label>                            
                                          <textarea class="nhsuk-textarea nhsuk-js-character-count" id="feedback-text" name="Text" rows="5" data-test-id="feedback-textarea" aria-describedby="feedback-contact-warning feedback-text-info"></textarea><div class="nhsuk-hint nhsuk-character-count__message nhsuk-u-visually-hidden" id="feedback-text-info">You can enter up to 1200 characters</div>
                                      </div>
                                    </div>
                        </fieldset>

                        <div class="nhsuk-back-link"><button class="nhsuk-back-link__link" href="#">
                            <svg class="nhsuk-icon nhsuk-icon__chevron-left" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" height="24" width="24">
                              <path d="M8.5 12c0-.3.1-.5.3-.7l5-5c.4-.4 1-.4 1.4 0s.4 1 0 1.4L10.9 12l4.3 4.3c.4.4.4 1 0 1.4s-1 .4-1.4 0l-5-5c-.2-.2-.3-.4-.3-.7z"></path>
                            </svg>
                            Go back</button></div><button data-test-id="send-feedback-button" data-event-trigger="click" data-event-value="Send feedback" class="nhsuk-button nhsuk-button--secondary nhsuk-u-margin-bottom-2" type="submit">Send feedback</button>
                      
                    </div>
                      
              </form>

          </div>
        </details>
      </section>
   


  

{% endblock %}